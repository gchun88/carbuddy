{% extends "headfoot/headfoot.html" %}

{% block content %}

  <!-- <div class="search_filter">
    <div class="search-box-container">
      <div class="search-box">
        <form method="post" action="#">
          <input type="text" name="search" id="textSearch" placeholder="Search">
          <input type="submit" name="submit" id="searchButton" value="">
        </form>
      </div>
    </div> -->
  <script> 
    myFunc = () => {
      let x = document.getElementById("filterPage");
      if(x.style.display === 'none') {
        x.style.display = 'block';
      } else {
        x.style.display = 'none';
      }
    }
  </script>
  <div class="search-filter">

    <button onclick='myFunc()'>SHOW FILTER</button>
    <div id="filterPage">
      <ul>
        <li>Make</li>
        <li>Type</li>
        <li>Year</li>
        <li>Price/Monthly Payment</li>
        <li>Mileage</li>
        <li>Features</li>
        <li>Size</li>
        <li>Exterior Color</li>
        <li>Interior Color</li>
        <li>Transmission</li>
        <li>Cylinders</li>
        <li>MPG Highway</li>
        <li>Status</li>
      </ul>
    </div>
    <!-- <div class="filter-container">
  	  <form method="GET" action=".">
        <div class="location-filter-container">
          <label for="brand">Location</label>
          <select class="city-filter">
          {%if carinstance_list %}
            <div class="city-options">
              {% for car in carinstance_list %}
                <option value="cities">{{ car.avail_city }}</option>
              {% endfor %}
            </div>
          {% endif %}
          </select>

          <select class="state-filter">
          {%if carinstance_list %}
            <div class="state-options">
            {% for car in carinstance_list %}
              <option value="states">{{ car.avail_state }}</option>
            {% endfor %}
            </div>
          {% endif %}
          </select>
         </div>

  	     <div class="brand-filter-container">
          <label for="brand">Brand</label>
  	      <select class="brand-filter">
  	      {%if carinstance_list %}
  	        <div class="brand-options">
  	        {% for car in carinstance_list %}
  	          <option value="brands">{{ car.car.brand }}</option>
  	        {% endfor %}
  	        </div>
  	      {% endif %}
          </select>
  	     </div>

         <div class="year-filter-container">
  	       <label for ="year">Year</label>
  	       <select class="year-filter">
           {%if carinstance_list %}
             <div class="year-options">
             {% for car in carinstance_list %}
               <option value="year">{{ car.car.launch_year }}</option>
             {% endfor %}
             </div>
           {% endif %}
           </select>
         </div>
         <input type="submit" name="submit" id="filterButton" value="filter">
  	  </form>
    </div> -->

    <div class="car-list-container">
      {% if carinstance_list %}
        <ul class="car-list">
        {% for car in carinstance_list %}
          <li>
            <div class="car-image">
            {% if car.image %}
              <img>{{ car.image }}
            {% else %}
              <img src="/static/testimage.png" width="100" height="100">
            {% endif %}
            </div>
            <div class="car-info">
              <a href="{% url 'car_details' %}">{{ car.car }}</a> by {{ car.car.brand }}({{ car.car.launch_year }})
              <p> Location: {{ car.avail_city}}, {{ car.avail_state }}</p>
              <p> Price: ${{ car.price }}
            </div>
          </li>
        {% endfor %}
        </ul>
      {% else %}
        <p>There are no cars to be shown.</p>
      {% endif %}
    </div>

  </div>       

{% endblock %}