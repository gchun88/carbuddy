<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link href='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css' rel='stylesheet' type='text/css'>
        <script src="js/vendor/modernizr-2.6.2.min.js"></script>
        <script src="js/vendor/jquery.js"></script>
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <style type="text/css">
          #availOptionDetailsWrapper div {
            display: inline-block;
          }
          #price, #monthPay, #downPay {
            width: 10%;
          }
        </style>
    </head>
    <body>

      <div id="popoverPage">
        <div id="popoverInnerPage">
          <div id="filterPageWrapper">
            <div id="filterPannelWrapper">
              <div id="filterContainer">
                <p id="numberOfSelectedFilters"></p>
                <div id="selectedFilters">
                </div>
                <a href="">
                  <span>Clear All</span>
                </a>
                <div id="carBrandFilterWrapper">
                  <div id="carBrandFilter">
                    <div id="nameOfFilterWrapper">
                      <p>Make</p>
                    </div>
                    <div id="carBrandAvailOptions">
                      <div id="carBrandAudi">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="audiCheck" type="checkbox" placeholder=" " value="Audi" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Audi</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandBMW">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="bmwCheck" type="checkbox" placeholder=" " value="BMW" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>BMW</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandCadillac">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="cadillacCheck" type="checkbox" placeholder=" " value="Cadillac" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Cadillac</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandChevrolet">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="chevroletCheck" type="checkbox" placeholder=" " value="Chevrolet" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Chevrolet</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandChrysler">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="chryslerCheck" type="checkbox" placeholder=" " value="Chrysler" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Chrysler</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandFiat">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="fiatCheck" type="checkbox" placeholder=" " value="Fiat" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Fiat</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandFord">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="fordCheck" type="checkbox" placeholder=" " value="Ford" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Ford</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandGMC">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="gmcCheck" type="checkbox" placeholder=" " value="GMC" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>GMC</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandHyundai">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="hyundaiCheck" type="checkbox" placeholder=" " value="Hyundai" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Hyundai</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandInfiniti">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="infinitiCheck" type="checkbox" placeholder=" " value="Infiniti" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Infiniti</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandJaguar">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="jaguarCheck" type="checkbox" placeholder=" " value="Jaguar" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Jaguar</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandJeep">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="jeepCheck" type="checkbox" placeholder=" " value="Jeep" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Jeep</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandKia">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="kiaCheck" type="checkbox" placeholder=" " value="Kia" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Kia</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandLandRover">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="landroverCheck" type="checkbox" placeholder=" " value="Land Rover" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Land Rover</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandMercedes">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="mercedesCheck" type="checkbox" placeholder=" " value="Mercedes-Benz" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Mercedes-Benz</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandPorsche">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="porscheCheck" type="checkbox" placeholder=" " value="Porsche" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Porsche</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandTesla">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="teslaCheck" type="checkbox" placeholder=" " value="Tesla" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Tesla</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carBrandVolkswagen">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="volkswagenCheck" type="checkbox" placeholder=" " value="Volkswagen" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfBrandWrapper">
                              <div id="nameOfBrand">
                                <span>Volkswagen</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>

                    </div>
                  </div>
                </div>
                <div id="carTypeFilterWrapper">
                  <div id="carTypeFilter">
                    <div id="nameOfFilterWrapper">
                      <p>Type</p>
                    </div>
                    <div id="carTypeAvailOptions">
                      <div id="carTypeConvertibles">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="convertibleCheck" type="checkbox" placeholder=" " value="Convertibles" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Convertibles</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carTypeCoupes">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="coupeCheck" type="checkbox" placeholder=" " value="Coupes" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Coupes</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carTypeCrossovers">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="crossoverCheck" type="checkbox" placeholder=" " value="Crossovers" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Crossovers</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                      <div id="carTypeDiesel">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="dieselCheck" type="checkbox" placeholder=" " value="Diesel" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Diesel Engines</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypeElectricVehicles">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="electricVehicleCheck" type="checkbox" placeholder=" " value="Electric Vehicles" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Electric Vehicles</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypeHybrids">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="hybridCheck" type="checkbox" placeholder=" " value="Hybrids" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Hybrids</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypeLuxury">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="luxuryCheck" type="checkbox" placeholder=" " value="Luxury" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Luxury Vehicles</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypeMinivans">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="minivanCheck" type="checkbox" placeholder=" " value="Minivans" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Minivans and Vans</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypePickupTrucks">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="pickupCheck" type="checkbox" placeholder=" " value="Pickup Trucks" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Pickup Trucks</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypeSedans">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="sedanCheck" type="checkbox" placeholder=" " value="Sedans" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Sedans</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypeSportUtilities">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="suvCheck" type="checkbox" placeholder=" " value="Sport Utilities" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Sport Utilities</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypeSports">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="sportsCheck" type="checkbox" placeholder=" " value="Sports Cars" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Sports Cars</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div><div id="carTypeWagons">
                        <label>
                          <div id="availOptionDetailsWrapper">
                            <div id="checkboxWrapper">
                              <input tabindex="0" id="wagonCheck" type="checkbox" placeholder=" " value="Wagons" onclick="renderFilter(this.id)">      
                            </div>
                            <div id="nameOfTypeWrapper">
                              <div id="nameOfType">
                                <span>Wagons</span>    
                              </div>  
                            </div>
                          </div>
                        </label>  
                      </div>
                    </div>
                  </div>
                </div>

                <div id="carPriceFilterWrapper">
                  <div id="carPriceFilter">
                    <div id="nameOfFilterWrapper">
                      <p>Price / Monthly Payment</p>
                    </div>
                    <div id="carPriceDetailsWrapper">
                      <div id="carPriceDetails">
                        <div id="carPriceSlider">
                          <p>
                            <label for="priceRange">Price range:</label>
                            <input type="text" id="priceRange" readonly style="border:0; color:#f6931f; font-weight:bold;">
                          </p>
                          <div id="price"></div>
                        </div>
                      </div>
                      <div id="carMonthlyPaymentDetails">
                        <p>
                          <label for="monthlyPayment">Desired Monthly Payment:</label>
                          <input type="text" id="monthlyPayment" readonly style="border:0; color:#f6931f; font-weight:bold;">
                        </p>
                        <div id="monthPay"></div>

                        <p>
                          <label for="downPayment">Down Payment:</label>
                          <input type="text" id="downPayment" readonly style="border:0; color:#f6931f; font-weight:bold;">
                        </p>
                        <div id="downPay"></div>
                      </div>

                    </div>
                  </div>
                </div>





              </div>
            </div>
            <div id="filterFooter">
                
            </div>    
          </div>
        </div>
      </div>

      <script>
        renderFilter = (currentElement) => {
          var checkBox = document.getElementById(currentElement);
          var filterList = document.getElementById("selectedFilters");
          var brandName = checkBox.value.replace(/\s+/g, '');

          if(checkBox.checked == true) {
            if(filterList.innerText === '') {
              //need to look into template literals
              filterList.innerHTML = '<span id="' + brandName.toLowerCase() + 'Span">' + checkBox.value + '</span>';
            } else {
              filterList.innerHTML += '<span id="' + brandName.toLowerCase() + 'Span"> | ' + checkBox.value + '  </span>';
              // filterList.innerHTML += '<span> | </span>' + '<span>' + checkBox.value + '</span>';
            }
          } else {
            //remove the unchecked filter 
            //error to fix: if the first element is removed, there is the | remaining on the list
            $(`span[id^=${brandName.toLowerCase()}]`).remove();
            // filterList.removeChild(filterList.childNodes[filterList.childNodes.length - 1]);
          }
          //displays the number of filters selected
          //error to fix: shows 1 Filter when none are selected
          if($("#selectedFilters > span").length == 1) {
            document.getElementById("numberOfSelectedFilters").innerHTML = '1 Filter'
          } else if($("#selectedFilters > span").length > 1) {
            document.getElementById("numberOfSelectedFilters").innerHTML = $("#selectedFilters > span").length + ' Filters';
          }
        }

        $(function() {
          $( "#price" ).slider({
            range: true,
            min: 4000,
            step: 500,
            max: 50000,
            values: [ 4000, 50000 ],
            slide: function( event, ui ) {
              if(ui.values[1] === 50000) {
                $( "#priceRange" ).val( "$" + ui.values[0] + " - $" + ui.values[1] + "+");
              } else {
                $( "#priceRange" ).val( "$" + ui.values[0] + " - $" + ui.values[1]);
              }
            }
          });
          $( "#priceRange" ).val( "$" + $( "#price" ).slider( "values", 0 ) + " - $" + $( "#price" ).slider( "values", 1 ) + "+");

          $("#monthPay").slider({
            range: "min",
            value: 800,
            min: 0,
            step: 50,
            max: 800,
            slide: function(event, ui) {
              $("#monthlyPayment").val("$" + ui.value);
            }
          });
          $("#monthlyPayment").val("$" + $("#monthPay").slider("value"));

          $("#downPay").slider({
            range: "max",
            value: 0,
            min: 0,
            step: 100,
            max: 20000,
            slide: function(event, ui) {
              $("#downPayment").val("$" + ui.value);
            }
          });
          $("#downPayment").val("$" + $("#downPay").slider("value"));
        });
      </script>
    </body>
</html>